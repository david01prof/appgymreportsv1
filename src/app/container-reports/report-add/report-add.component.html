<app-breadcrumb
    [itemsLabels]="_reportSvc.getBreadcrumbLabelsNew()"
    urlActive="reports"></app-breadcrumb>

<p-card class="stylesCard">
  <p-stepper [(value)]="activeStep" class="basis-[40rem]">

    <p-step-list>

        <!-- Paso 1 -->
        <p-step [value]="1" class="flex flex-row flex-auto gap-2">
          <ng-template #content let-activateCallback="activateCallback" let-value="value">
              <button class="bg-transparent border-0 inline-flex flex-col gap-2" (click)="activateCallback()">
                  <span
                      class="rounded-full border-2 w-12 h-12 inline-flex items-center justify-center"
                      [ngClass]="{
                          'bg-primary text-primary-contrast border-primary': value <= activeStep,
                          'border-surface': value > activeStep
                      }"
                  >
                      <i class="pi pi-calculator"></i>
                  </span>
              </button>
          </ng-template>
        </p-step>

        <!-- Paso 2 -->
        <p-step [value]="2" class="flex flex-row flex-auto gap-2">
          <ng-template #content let-activateCallback="activateCallback" let-value="value">
              <button class="bg-transparent border-0 inline-flex flex-col gap-2" (click)="activateCallback()">
                  <span
                      class="rounded-full border-2 w-12 h-12 inline-flex items-center justify-center"
                      [ngClass]="{
                          'bg-primary text-primary-contrast border-primary': value <= activeStep,
                          'border-surface': value > activeStep
                      }"
                  >
                      <i class="pi pi-camera"></i>
                  </span>
              </button>
          </ng-template>
        </p-step>

        <!-- Paso 3 -->
        <p-step [value]="3" class="flex flex-row flex-auto gap-2">
          <ng-template #content let-activateCallback="activateCallback" let-value="value">
              <button class="bg-transparent border-0 inline-flex flex-col gap-2" (click)="activateCallback()">
                  <span
                      class="rounded-full border-2 w-12 h-12 inline-flex items-center justify-center"
                      [ngClass]="{
                          'bg-primary text-primary-contrast border-primary': value <= activeStep,
                          'border-surface': value > activeStep
                      }"
                  >
                      <i class="pi pi-list"></i>
                  </span>
              </button>
          </ng-template>
        </p-step>

    </p-step-list>

    <p-step-panels>

      <p-step-panel [value]="1">
        <ng-template #content let-activateCallback="activateCallback">

            <!-- CalculatorPgc -->
            <app-calculator-pgc (dataMeasurement)="getValueMeasurement($event)" (disabledNextPage)="disabledNextPage($event)" class="fadein animation-duration-300"></app-calculator-pgc>

            <div class="flex pt-6 justify-end">
              <p-button (onClick)="activateCallback(2)" [label]="getLabelNext()" icon="pi pi-arrow-right" iconPos="right" [disabled]="disabledPage"/>
            </div> 

        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="2">
        <ng-template #content let-activateCallback="activateCallback">

            <!-- Photos -->
            <app-photos (dataPhotos)="getValuePhotos($event)" (activeInputImage)="activeInputImage($event)" class="fadein animation-duration-300"></app-photos>

            <div class="flex pt-6 justify-between">
              <p-button (onClick)="activateCallback(1)" [label]="getLabelBack()" severity="secondary" icon="pi pi-arrow-left" />
              <p-button (onClick)="activateCallback(3)" [label]="getLabelNext()" icon="pi pi-arrow-right" iconPos="right" [disabled]="disabledPage"/>
            </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="3">
        <ng-template #content let-activateCallback="activateCallback">

            <!-- Resumen Report -->
            <app-resumen-card [report]="dataReport()" [isDetail]="false" class="fadein animation-duration-300"></app-resumen-card>

            <div class="flex pt-4 justify-between">
              <p-button (onClick)="activateCallback(2)" [label]="getLabelBack()" severity="secondary" icon="pi pi-arrow-left" />
              <p-button [label]="getLabelSave()" (onClick)="submit(dataReport())" icon="pi pi-save" iconPos="right" />
            </div>

        </ng-template>
      </p-step-panel> â€¦
    </p-step-panels>
  </p-stepper>
</p-card>
  