<h4 class="font-bold text-xl">Calcula tu índice de grasa corporal</h4>

<span>Para realizar este cálculo se aplica la fórmula Jackson y Pollock</span>

<div class="flex flex-column justify-content-center mt-6">
    <form [formGroup]="measurementForm()" (ngSubmit)="onSubmit()">
        
            <div class="mb-4 flex justify-content-center">
                <app-custom-input
                label="Altura (cm):"
                id="height"
                [control]="$any(measurementForm().get('height'))"
                type="number"
                maxLength="3"
                minLength="1"
                errorMessage="El mínimo son 50cm"/>
            </div>

            <div class="mb-4 flex justify-content-center">
                <app-custom-input
                    label="Peso (kg):"
                    id="weight"
                    [control]="$any(measurementForm().get('weight'))"
                    type="number"
                    maxLength="3"
                    minLength="1"
                    errorMessage="El mínimo son 30kg"/>
            </div>

            <div class="mb-4 flex justify-content-center">
                <app-custom-input
                    label="Cuello (cm):"
                    id="neck"
                    [control]="$any(measurementForm().get('neck'))"
                    type="number"
                    maxLength="3"
                    minLength="1"
                    errorMessage="El mínimo son 20cm"/>
            </div>

            <div class="mb-4 flex justify-content-center">
            <app-custom-input
                label="Cintura (cm):"
                id="waist"
                [control]="$any(measurementForm().get('waist'))"
                type="number"
                maxLength="3"
                minLength="1"
                errorMessage="El mínimo son 50cm"/>
            </div>

            @if(_globalSvc.userInfo().gender.code == gender) {
                <div class="mb-3 flex justify-content-center">
                    <app-custom-input
                    label="Cadera (cm):"
                    id="hip"
                    [control]="$any(measurementForm().get('hip'))"
                    type="number"
                    maxLength="3"
                    minLength="1"
                    errorMessage="El mínimo son 50cm"/>
                </div>
            }
            

        <div class="flex justify-content-center">
            <p-button type="submit" [disabled]="!measurementForm().valid" label="Calcular" severity="info"/>
        </div>
    </form>


    @let totaPgc = measurementForm().value.totaligc;

    @if (totaPgc != undefined && !totaPgc.includes('Error al realizar esta operacion') && totaPgc != ''){
        <div class="fadein animation-duration-1000">
            <p-divider></p-divider>
            <div class="flex justify-content-center align-items-center">
                <span class="text-center"> Indice de grasa: {{totaPgc}}%</span>
            </div>

        </div>
    }
</div>