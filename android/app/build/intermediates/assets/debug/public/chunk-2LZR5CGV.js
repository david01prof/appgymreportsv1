import{a as M,b as A}from"./chunk-BYYXLHSS.js";import"./chunk-DC3UWO4C.js";import{a as B}from"./chunk-LWD7436F.js";import"./chunk-YGK22FXM.js";import{e as N,f as V,h as b,j as k,l as F,o as E,r as G,u as T}from"./chunk-XU6N7FTX.js";import{a as O}from"./chunk-YKH6NBY3.js";import{g as U,h as j}from"./chunk-QI7ZNQYA.js";import{g as D}from"./chunk-N2P3K43E.js";import"./chunk-NAPQE6AC.js";import"./chunk-5DSIRKQH.js";import"./chunk-YGEN2ETO.js";import{$b as y,Db as f,Eb as d,Fb as u,Fc as x,Qb as _,Tc as I,Wa as p,Yc as w,Z as s,ba as W,jb as g,la as m,lb as C,ma as c,mb as S,ob as l,xb as r,yb as i,zb as h}from"./chunk-PO5N23L5.js";import{f as v}from"./chunk-25N2FLV6.js";var R=()=>[U,M,k,N,V,F,E,I];function q(t,n){if(t&1){let e=f();r(0,"p-button",10),d("onClick",function(){m(e);let o=u(2);return o.editUserWeight(),c(o.isSave=!0)}),i()}t&2&&l("rounded",!0)("outlined",!0)}function z(t,n){if(t&1){let e=f();r(0,"p-button",11),d("onClick",function(){m(e);let o=u(2);return o.editUserWeight(),c(o.isSave=!1)}),i()}t&2&&l("rounded",!0)}function H(t,n){if(t&1){let e=f();r(0,"form",0),d("ngSubmit",function(){m(e);let o=u();return c(o.onSubmit())}),r(1,"div",1),g(2,q,1,2,"p-button",2)(3,z,1,1,"p-button",3),i(),r(4,"div",4)(5,"div",5)(6,"label",6),_(7,"Peso objetivo (kg):"),i(),h(8,"p-inputNumber",7),i(),r(9,"div",5)(10,"label",8),_(11,"Peso actual (kg):"),i(),h(12,"p-inputNumber",9),i()()()}if(t&2){let e=u();l("formGroup",e.form),p(2),l("ngIf",!e.isSave),p(),l("ngIf",e.isSave)}}var P=class t{_globalSvc=s(B);isSave=!1;form;_formBuilder=s(G);_authSvc=s(O);_auth=s(D);getDate(n){return new Date(n)}constructor(){x(()=>{this._globalSvc.userInfo().actualWeight!=0&&this._globalSvc.userInfo().actualWeight!=this.form.controls.actualWeight.value&&this.form.controls.actualWeight.setValue(this._globalSvc.userInfo().actualWeight)},{allowSignalWrites:!0})}ngOnInit(){this.form=this._formBuilder.group({objetiveWeight:new b({value:0,disabled:!0}),actualWeight:new b({value:this._globalSvc.userInfo().actualWeight,disabled:!0})})}editUserWeight(){this.form!=null&&(this.form.controls.objetiveWeight.enabled?(this.form.controls.objetiveWeight.disable(),this.form.controls.actualWeight.disable()):(this.form.controls.objetiveWeight.enable(),this.form.controls.actualWeight.enable()))}onSubmit(){return v(this,null,function*(){this.form!=null&&!this.form.controls.objetiveWeight.enabled&&(this._globalSvc.userInfo().objetiveWeight=this.form.controls.objetiveWeight.value,this._globalSvc.userInfo().actualWeight=this.form.controls.actualWeight.value,yield this._authSvc.updateUser(this._auth.currentUser.uid,this._globalSvc.userInfo()))})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=W({type:t,selectors:[["app-user-weight"]],standalone:!0,features:[y],decls:3,vars:1,consts:[[3,"ngSubmit","formGroup"],[1,"flex","justify-content-end"],["icon","pi pi-pencil","type","submit","severity","secondary",3,"rounded","outlined","onClick",4,"ngIf"],["icon","pi pi-save","type","submit","severity","primary",3,"rounded","onClick",4,"ngIf"],[1,"flex","flex-wrap","gap-2","p-fluid"],[1,"flex-auto"],["for","intergerObjetiveWeight"],["inputId","intergerObjetiveWeight","formControlName","objetiveWeight",1,"mt-2"],["for","integerActualWeight"],["inputId","integerActualWeight","formControlName","actualWeight",1,"mt-2"],["icon","pi pi-pencil","type","submit","severity","secondary",3,"onClick","rounded","outlined"],["icon","pi pi-save","type","submit","severity","primary",3,"onClick","rounded"]],template:function(e,a){e&1&&(g(0,H,13,3),C(1,0,R)),e&2&&(p(),S(a._globalSvc.userInfo().createdAt!=""&&a.form!=null))},dependencies:[j,A,T,w],changeDetection:0})};export{P as UserWeightComponent};
